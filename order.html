<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Orders</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
    
/* Basic reset and font styling */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Arial', sans-serif;
    }

    body, html {
        height: 100%;
        width: 100%;
        background: linear-gradient(120deg, #4bddfb, #eaab5d);
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 0;
    }

    nav {
        width: 100%;
        background-color: #333;
        color: #fff;
        padding: 1em;
        text-align: center;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 10;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    }

    nav a {
        color: #fff;
        margin: 0 15px;
        text-decoration:none;
        font-weight: bold;
        transition: color 0.3s ease;
    }

    nav a:hover, .active {
        color: #69cdee;
    }

    header {
        text-align: center;
        margin-top: 80px; /* Adjusted for nav bar height */
        animation: fadeInDown 1s ease;
        width: 100%;
    }

    header h1 {
        font-size: 2.5em;
        color: #fff;
    }

    header p {
        font-size: 1.2em;
        color: #444;
        margin-bottom: 1em;
    }

    #product-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        width: 90%;
        max-width: 1200px;
        margin-top: 150px; /* Adjusted for header space */
    }

    .product-item, .cart-item {
        background: #fff;
        padding: 1.5em;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        animation: fadeIn 0.8s ease;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .product-item:hover, .cart-item:hover {
        transform: translateY(-10px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }

    .product-item h2, .cart-item h2 {
        font-size: 1.5em;
        color: #333;
    }

    .product-item p, .cart-item p {
        font-size: 1.1em;
        color: #555;
    }
    .product-item .price, .cart-item .price {
        font-size: 1.3em;
        color: #eaab5d;
        margin: 10px 0;
    }

    .cart-item input[type="number"] {
        width: 60px;
        padding: 5px;
        text-align: center;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-top: 10px;
    }

    .product-item button, .cart-item button {
        background-color: #eaab5d;
        color: white;
        border: none;
        padding: 8px 15px;
        font-size: 1em;
        cursor: pointer;
        margin-top: 10px;
        border-radius: 5px;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .product-item button:hover, .cart-item button:hover {
        background-color: #ff6347;
        transform: scale(1.05);
    }

    .total-summary {
        background: #fff;
        padding: 20px;
        width: 90%;
        max-width: 400px;
        margin-top: 2em;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        position: fixed;
        bottom: 50px; /* Fixed position at the bottom */
        animation: fadeInUp 0.8s ease;
    }

    .total-summary h3 {
        font-size: 1.5em;
        margin-bottom: 1em;
    }
    footer {
        background-color: #333;
        color: #fff;
        padding: 1em;
        width: 100%;
        text-align: center;
        position: fixed;
        bottom: 0;
        left: 0;
        z-index: 10;
    }

    /* Animations */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInDown {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', () => {
    const productListContainer = document.getElementById('product-list');
    const cartItemsContainer = document.getElementById('cart-items');
    const totalPriceElement = document.getElementById('total-price');
    const cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Fetch products from the backend
    async function fetchProducts() {
        try {
            const response = await fetch('http://localhost:3000/api/products');
            const products = await response.json();
            renderProducts(products);
        } catch (error) {
            console.error('Failed to fetch products:', error);
        }
    }

    function updateTotalPrice() {
        const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);
        totalPriceElement.textContent = total.toFixed(2);
    }

    function renderProducts(products) {
        productListContainer.innerHTML = '';
        products.forEach((product) => {
            const productElement = document.createElement('div');
            productElement.classList.add('product-item');
            productElement.innerHTML = `
                <h2>${product.name}</h2>
                <p>${product.description}</p>
                <div class="price">₹${product.price.toFixed(2)}</div>
                <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
            `;
            productListContainer.appendChild(productElement);

            productElement.querySelector('.add-to-cart').addEventListener('click', () => {
                addToCart(product);
            });
        });
    }

    function addToCart(product) {
        const existingProduct = cart.find((item) => item.id === product.id);
        if (existingProduct) {
            existingProduct.quantity += 1;
        } else {
            cart.push({ ...product, quantity: 1 });
        }
        localStorage.setItem('cart', JSON.stringify(cart));
        updateTotalPrice();
    }

    fetchProducts();
});

    // JavaScript to load and manage cart items
document.addEventListener('DOMContentLoaded', () => {
    // Existing product data and cart handling functions...

    // Function to update the total price
    function updateTotalPrice() {
        const total = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
        totalPriceElement.textContent = total.toFixed(2);
    }

    // Function to handle the checkout button click
    const checkoutButton = document.getElementById('checkout-btn');
    checkoutButton.addEventListener('click', () => {
        // You can add any additional checks here (e.g., if the cart is empty)
        if (cart.length > 0) {
            window.location.href = 'checkout.html';  // Redirect to checkout page
        } else {
            alert("Your cart is empty! Please add items to proceed.");
        }
    });

    // Render products and cart on page load
    renderProducts();
    renderCartItems();
});
// JavaScript to handle the checkout button click
document.addEventListener('DOMContentLoaded', () => {
    const checkoutButton = document.getElementById('checkout-btn');
    
    checkoutButton.addEventListener('click', () => {
        // Check if cart is not empty
        if (cart.length > 0) {
            // Get the first product in the cart (or you can choose a specific product)
            const firstProduct = cart[0]; // Adjust if you want to send more than one item
            
            // Redirect to the checkout page with product details as query parameters
            window.location.href = `checkout.html?model=${encodeURIComponent(firstProduct.name)}&description=${encodeURIComponent(firstProduct.description)}&price=${firstProduct.price}`;
        } else {
            alert("Your cart is empty! Please add items to proceed.");
        }
    });
});

</script>

<body>
    <body>
        <!-- Navigation Bar -->
        <nav>
            <a href="index.html">Home</a>
            <a href="Signin-and-Signup-Form-main/index_1.html">Signup</a>
            <a href="products.html">Products</a>
            <a href="order.html" class="active">Orders</a>
            <a href="checkout.html">Checkout</a>
        </nav>
    
        <!-- Header Section -->
        <header>
            <h1>Your Orders</h1>
            <p>Browse available products and manage your cart:</p>
        </header>
    
        <!-- Available Products Section -->
        <section id="product-list">
            <!-- Product items will be dynamically added here via JavaScript -->
        </section>
    
        <!-- Cart Items Section -->
        <section id="cart-items">
            <!-- Cart items will be dynamically added here -->
        </section>
    
        <!-- Total Summary Section -->
        <section class="total-summary">
            <h3>Total: ₹<span id="total-price">0.00</span></h3>
            <button id="checkout-btn">Proceed to Checkout</button>
        </section>
    
        <!-- Footer -->
        <footer>
            <p>© 2024 TriUnity and Team | All Rights Reserved</p>
        </footer>
    
        <!-- JavaScript to load and manage cart items -->
        <script>
            // Example product data (this can be dynamically fetched or expanded)
            const products = [
                { id: 1, name: "Smartphone", description: "Latest Android smartphone with 128GB storage", price: 34999.99 },
                { id: 2, name: "Laptop", description: "15-inch laptop with 16GB RAM and 512GB SSD", price: 69999.99 },
                { id: 3, name: "Smartwatch", description: "Water-resistant smartwatch with heart rate monitor", price: 14499.99 },
                { id: 4, name: "Bluetooth Speaker", description: "Portable Bluetooth speaker with 12-hour battery life", price: 9999.99 }
            ];
    
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const productListContainer = document.getElementById('product-list');
            const cartItemsContainer = document.getElementById('cart-items');
            const totalPriceElement = document.getElementById('total-price');
    
            // Function to update the total price
            function updateTotalPrice() {
                const total = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
                totalPriceElement.textContent = total.toFixed(2);
            }
    
            // Function to render products
            function renderProducts() {
                productListContainer.innerHTML = ''; // Clear product list container
    
                products.forEach(product => {
                    const productElement = document.createElement('div');
                    productElement.classList.add('product-item');
                    productElement.innerHTML = `
                        <h2>${product.name}</h2>
                        <p>${product.description}</p>
                        <div class="price">₹${product.price.toFixed(2)}</div>
                        <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
                    `;
    
                    // Add event listener to "Add to Cart" button
                    const addToCartButton = productElement.querySelector('.add-to-cart');
                    addToCartButton.addEventListener('click', () => {
                        addToCart(product.id);
                    });
    
                    productListContainer.appendChild(productElement);
                });
            }
    
            // Function to add item to cart
            function addToCart(productId) {
                const product = products.find(p => p.id === productId);
                const existingProduct = cart.find(item => item.id === productId);
                if (existingProduct) {
                    existingProduct.quantity += 1;  // Increment quantity if product already in cart
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCartItems();
                updateTotalPrice();
            }
    
            // Function to render cart items
            function renderCartItems() {
                cartItemsContainer.innerHTML = ''; // Clear cart container
    
                cart.forEach((item, index) => {
                    const cartItemElement = document.createElement('div');
                    cartItemElement.classList.add('cart-item');
                    cartItemElement.innerHTML = `
                        <h2>${item.name}</h2>
                        <p>${item.description}</p>
                        <div class="price">$${item.price.toFixed(2)}</div>
                        <input type="number" value="${item.quantity}" min="1" data-index="${index}" class="item-quantity" />
                        <button class="remove" data-index="${index}">Remove</button>
                    `;
    
                    // Event listener for quantity change
                    const quantityInput = cartItemElement.querySelector('.item-quantity');
                    quantityInput.addEventListener('input', (e) => {
                        const quantity = parseInt(e.target.value);
                        if (quantity > 0) {
                            cart[index].quantity = quantity;
                            localStorage.setItem('cart', JSON.stringify(cart));
                            updateTotalPrice();
                        }
                    });
    
                    // Event listener for remove button
                    const removeButton = cartItemElement.querySelector('.remove');
                    removeButton.addEventListener('click', () => {
                        cart.splice(index, 1);
                        localStorage.setItem('cart', JSON.stringify(cart));
                        renderCartItems();
                        updateTotalPrice();
                    });
    
                    cartItemsContainer.appendChild(cartItemElement);
                });
            }
    
            // Render products and cart on page load
            renderProducts();
            renderCartItems();
        </script>
</body>
</html>